<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <main class="navbar-container">
      <nav>
        <div class="flex items-center">
          <svg
            class="brand"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
            data-slot="icon"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
            ></path>
          </svg>
        </div>
        <div>
          <h1 class="nav-text">INTERRUPTED</h1>
        </div>
        <div class="logout">
          <h1 id="logout" class="nav-text">Cancel</h1>
        </div>
      </nav>
    </main>
    <div class="container">
      <div class="form-container">
        <form class="form" id="form">
          <div class="image-container">
            <img
              draggable="false"
              class="logo"
              src="https://r2.interrupted.me/zZz/appimg.png"
              alt="interrupted.me"
            />
          </div>
          <h1 class="title">Welcome back!</h1>
          <div class="input-group">
            <label class="label" for="username">Username</label>
            <input
              class="input"
              type="text"
              id="username"
              name="username"
              minlength="3"
              maxlength="45"
              required
            />
          </div>
          <div class="input-group">
            <label class="label" for="password">Password</label>
            <input
              class="input"
              type="password"
              id="password"
              name="password"
              minlength="8" 
              maxlength="255"
              required
            />
          </div>
          <div class="button-container">
            <button type="submit" class="button">Login</button>
          </div>
        </form>
      </div>
    </div>

    <script>
      const logout = document.getElementById("logout");
      logout.addEventListener("click", () => {
        window.logOut();
      });

      const form = document.getElementById("form");
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        window.login(username, password).then((response) => {
          if (response !== "success") {
            alert(response);
          }
        });
      });
    </script>
  </body>
</html>
